import { AskRequest, AskResponse, ChatRequest } from "./models";

export async function askApi(options: AskRequest): Promise<AskResponse> {
  // Mocked response
  const mockedResponse: AskResponse = {
    answer:
      "<table>\n  <tr>\n    <th>Function on Demand</th>\n    <th>Description</th>\n  </tr>\n  <tr>\n    <td>Comfort access</td>\n    <td>Allows the driver to open and close the vehicle doors without having to use the key or key fob. This function can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Power Steering Plus</td>\n    <td>Provides more assistance to the steering system at low speeds, making it easier to maneuver the vehicle. This function is standard in Taycan Turbo S and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Porsche Intelligent Range Manager (PIRM)</td>\n    <td>Helps the driver to optimize the battery usage and range of the vehicle. PIRM provides adaptive route planning, charging stop recommendations, and an eco-route option. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Porsche InnoDrive</td>\n    <td>A driver assistance system that includes adaptive cruise control, lane departure warning, and traffic sign recognition. Porsche InnoDrive can also predict and adjust the vehicle speed according to the road conditions and topography. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Active Lane Keeping</td>\n    <td>Helps the driver to stay in the center of the lane by applying small steering corrections. Active Lane Keeping can also provide haptic feedback through the steering wheel if the vehicle is about to cross the lane markings. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n</table>\n\n<<Wie kann ich FoD f\u00fcr mein Porsche-Fahrzeug erwerben? Sind FoD f\u00fcr alle Porsche-Modelle verf\u00fcgbar? Ist es m\u00f6glich, FoD w\u00e4hrend des Fahrzeugkaufs zu erwerben? >>",
    data_points: [
      "Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly ",
      "Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-203.pdf: colSpan=2>Functions on Demand</td><td>O4)</td><td>O</td></tr></table> <table><tr><th>Brakes and wheels</th><th colSpan=2>T</th><th>PORSCHE</th></tr><tr><td>Ceramic brakes</td><td colSpan=2>-</td><td>O</td></tr><tr><td>19-inch wheels</td><td colSpan=2>-</td><td>S</td></tr><tr><td>20-inch wheels</td><td colSpan=2>S</td><td>O</td></tr><tr><td>21-inch wheels</td><td colSpan=2>-</td><td>O</td></tr><tr><td>Performance tyres</td><td colSpan=2>-</td><td>O</td></tr></table> <table><tr><th>Seats</th><th colSpan=2>TESLA</th><th>PORSCHE</th></tr><tr><td>Seat heating (front/rear)</td><td colSpan=2>S/S</td><td>O/O</td></tr><tr><td>Seat ventilation (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr><tr><td>Massage function (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr></table> <table><tr><th colSpan=2>Air conditioning and glazing</th><th>T TABLA M</th><th>PORSCHE</th></tr><tr><td colSpan=2>Four-zone climate control</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Ioniser</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Panoramic glass roof</td><td>S</td><td>O</td></tr></table> <table><tr><th colSpan=2>Assistance systems</th><th></th><th>T</th><th ",
      "2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.",
    ],
    thoughts:
      "Searched for:<br>Porsche Functions on Demand HTML table description<br><br>Prompt:<br><|im_start|>system<br>Assistant helps the company employees with questions regarding different Porsche models, interior and exterior, technical solutions, services like Charging and sales questions, etc.  Be brief in your answers.<br>Answer with the facts listed in the list of sources below. If there isn't enough information below, say you have not found relevant information in the data base and start answering the question on other information. Clearly state that the information does not stem from the database. If asking a clarifying question to the user would help, ask the question.<br>For tabular information return it as an html table. Do not return markdown format.<br>Each source has a name followed by colon and the actual information, always include the source name for each fact you use in the response. Use square brakets to reference the source, e.g. [info1.txt]. Don't combine sources, list each source separately, e.g. [info1.txt][info2.pdf].<br><br>ALWAYS generate three very brief follow-up questions that the user would likely ask next about the Porsche car or service. <br>Use double angle brackets to reference the questions, e.g. <<Are there exclusions for prescriptions?>>.<br>Try not to repeat questions that have already been asked.<br>Only generate questions and do not generate any text before or after the questions, such as 'Next Questions'<br><br><br><br>Sources:<br>Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly <br>Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-203.pdf: colSpan=2>Functions on Demand</td><td>O4)</td><td>O</td></tr></table> <table><tr><th>Brakes and wheels</th><th colSpan=2>T</th><th>PORSCHE</th></tr><tr><td>Ceramic brakes</td><td colSpan=2>-</td><td>O</td></tr><tr><td>19-inch wheels</td><td colSpan=2>-</td><td>S</td></tr><tr><td>20-inch wheels</td><td colSpan=2>S</td><td>O</td></tr><tr><td>21-inch wheels</td><td colSpan=2>-</td><td>O</td></tr><tr><td>Performance tyres</td><td colSpan=2>-</td><td>O</td></tr></table> <table><tr><th>Seats</th><th colSpan=2>TESLA</th><th>PORSCHE</th></tr><tr><td>Seat heating (front/rear)</td><td colSpan=2>S/S</td><td>O/O</td></tr><tr><td>Seat ventilation (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr><tr><td>Massage function (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr></table> <table><tr><th colSpan=2>Air conditioning and glazing</th><th>T TABLA M</th><th>PORSCHE</th></tr><tr><td colSpan=2>Four-zone climate control</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Ioniser</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Panoramic glass roof</td><td>S</td><td>O</td></tr></table> <table><tr><th colSpan=2>Assistance systems</th><th></th><th>T</th><th <br>2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.<br><|im_end|><br><|im_start|>user<br>Welche Functions on demand (FoD) sind verf\u00fcgbar? <br><|im_end|><br><|im_start|>assistant<br>The available Functions on Demand (FoD) depend on the Porsche model and the installed Cluster version. FoD until and including MY21 are available for all Porsche models. FoD for MY18 are only available in the USA and FoD for MY19 are also available [2023_04 - OTA - Big Picture-0.pdf]. Additionally, FoD available with Cluster 33 include PIRM, Porsche InnoDrive, Power Steering Plus, and Active Lane Keeping [2023_04 - OTA - Big Picture-0.pdf].<br><br><<How do I find out which Cluster version my vehicle has installed? Are FoD available for electric Porsche models? Can FoD be purchased through a Porsche dealership?>><|im_end|><br><|im_start|>user<br>Please answer in German<br><|im_end|><br><|im_start|>assistant<br>Wie aktiviere ich die Functions on demand (FoD) f\u00fcr mein Porsche Fahrzeug, welches Over-the-air (OTA) f\u00e4hig ist?<br><br>Um Functions on Demand (FoD) f\u00fcr Ihr Porsche-Fahrzeug, das Over-the-air (OTA) f\u00e4hig ist, zu aktivieren, k\u00f6nnen Sie FoD \u00fcber den Porsche Connect Store kaufen und dann in Ihrem Fahrzeug aktivieren. FoD k\u00f6nnen \"Unlimited\" oder als monatliches Abonnement gebucht werden und stehen nach der Aktivierung sofort zur Verf\u00fcgung [2023_04 - OTA - Big Picture-0.pdf]. Bitte beachten Sie, dass Sie vor der Aktivierung von FoD die Verf\u00fcgbarkeit der aktivierten/abgebrochenen FoD in Ihrem Fahrzeug \u00fcberpr\u00fcfen und das PCM auf Werkseinstellungen zur\u00fccksetzen sollten [EN_Quick_Info_Softwareupdate_Cluster-37_confidential-3.pdf].<br><br>Welche Functions on demand (FoD) sind verf\u00fcgbar?<br><br>Die verf\u00fcgbaren Functions on Demand (FoD) h\u00e4ngen vom Porsche-Modell und der installierten Cluster-Version ab. FoD bis einschlie\u00dflich MY21 sind f\u00fcr alle Porsche-Modelle verf\u00fcgbar. FoD f\u00fcr MY18 sind nur in den USA und FoD f\u00fcr MY19 sind ebenfalls verf\u00fcgbar [2023_04 - OTA - Big Picture-0.pdf]. Dar\u00fcber hinaus sind FoD, die mit Cluster 33 verf\u00fcgbar sind, PIRM, Porsche InnoDrive, Power Steering Plus und Active Lane Keeping [2023_04 - OTA - Big Picture-0.pdf].<br><br>Wie finde ich heraus, welche Cluster-Version in meinem Fahrzeug installiert ist? Sind FoD f\u00fcr elektrische Porsche-Modelle verf\u00fcgbar? K\u00f6nnen FoD \u00fcber einen Porsche-H\u00e4ndler gekauft werden?<|im_end|><br><|im_start|>user<br>Bitte erstelle mir eine Tabelle im HTML Format mit den Functions und einer kurzen Beschreibung dazu.<br><|im_end|><br><|im_start|>assistant<br><table><br>  <tr><br>    <th>Function</th><br>    <th>Description</th><br>  </tr><br>  <tr><br>    <td>Comfort access</td><br>    <td>Allows the driver to open and close the vehicle doors without having to use the key or key fob. This function can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Power Steering Plus</td><br>    <td>Provides more assistance to the steering system at low speeds, making it easier to maneuver the vehicle. This function is standard in Taycan Turbo S and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Porsche Intelligent Range Manager (PIRM)</td><br>    <td>Helps the driver to optimize the battery usage and range of the vehicle. PIRM provides adaptive route planning, charging stop recommendations, and an eco-route option. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Porsche InnoDrive</td><br>    <td>A driver assistance system that includes adaptive cruise control, lane departure warning, and traffic sign recognition. Porsche InnoDrive can also predict and adjust the vehicle speed according to the road conditions and topography. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Active Lane Keeping</td><br>    <td>Helps the driver to stay in the center of the lane by applying small steering corrections. Active Lane Keeping can also provide haptic feedback through the steering wheel if the vehicle is about to cross the lane markings. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br></table><br><br><<Welche weiteren FoD sind f\u00fcr das Taycan Modell verf\u00fcgbar? Wie unterscheiden sich FoD von anderen Optionen, die bereits beim Fahrzeugkauf ausgew\u00e4hlt werden k\u00f6nnen? Kann FoD \u00fcber die Porsche Connect App gekauft werden?>><|im_end|><br><|im_start|>user<br>Bitte erstelle mir eine Tabelle im HTML Format mit den Functions on Demand und einer kurzen Beschreibung dazu.<br><|im_end|><br><|im_start|>assistant<br><br><br>",
  };

  return new Promise((resolve, reject) => {
    // Mimic network delay
    setTimeout(() => {
      // Randomly simulate an error
      const shouldThrowError = Math.random() > 0.9;
      if (shouldThrowError) {
        reject(new Error("Mocked network error"));
        return;
      }

      resolve(mockedResponse);
    }, 1000);
  });
}

export async function chatApi(options: ChatRequest): Promise<AskResponse> {
  // Mocked response
  const mockedResponse: AskResponse = {
    answer:
      "Subject: Activating Functions on Demand for Your Porsche\n\nDear Mrs. Smith-M\u00fcller,\n\nWe hope this email finds you well. We are writing to provide you with information on how to activate Functions on Demand (FoD) for your Porsche, as well as a brief overview of what FoD entails.\n\nFunctions on Demand are individual vehicle functions that can be purchased and activated through the Porsche Connect Store. If your Porsche is OTA (over-the-air) capable, you can activate FoD functions directly in your vehicle. Please note that during the software update process, your vehicle cannot be started, and the duration and status of the process will be displayed in the PCM and cannot be canceled.\n\nTo activate FoD, please follow these steps:\n\n1. Go to the Porsche Connect Store and purchase the desired FoD function(s).\n2. Wait for the function(s) to be downloaded to your vehicle. You will receive a notification once the download is complete.\n3. Restart your vehicle to complete the activation process.\n\nPlease refer to the attached table for an overview of the different FoD functions available and their descriptions.\n\nIf you experience any issues with FoD, we recommend resetting the PCM to factory settings and checking the availability of activated/deactivated FoD functions in your vehicle.\n\nWe hope you find this information helpful. Please do not hesitate to contact us if you have any further questions or concerns.\n\nBest regards,\n\n[Your Name]",
    data_points: [
      "Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly ",
      "2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.",
      'PCSS I PQIS \u2013 OTA information in PCSS (AGDASYXXY-2019-008)-6.pdf:  To re-enable / cancel the functions, please call the workshop tester under "F7 additional menu" first "Function clearances" and then "Update releases". After successful completion, an automatic coding For functions that are in the status "In deactivation", "In activation" or "Activated" and are not functional, please also refer to the relevant Workshop Manual / TI. Note: Functions on Demand that are already registered are shown above the available services in the table. Connectivity information V X Porsche Vehicle Tracking System V ! Standard job VAM3 | IT-Systems Qualification \u2013 PCSS | Porsche Central Service System - PQIS 7       :selected:      :unselected: :unselected: :selected: 8 PORSCHE VAM3 | IT-Systems Qualification \u2013 PCSS | Porsche Central Service System - PQIS Note You will find further information on "Online software update" and "Function on Demand" here: PCSS - Help O O O ',
    ],
    thoughts:
      'Searched for:<br>"Functions on Demand" Porsche activate steps overview table<br><br>Prompt:<br><|im_start|>system<br>Assistant helps the company employees with questions regarding different Porsche models, interior and exterior, technical solutions, services like Charging, etc.  Be brief in your answers.<br>Answer ONLY with the facts listed in the list of sources below. If there isn\'t enough information below, say you don\'t know. Do not generate answers that don\'t use the sources below. If asking a clarifying question to the user would help, ask the question.<br>For tabular information return it as an html table. Do not return markdown format.<br>Each source has a name followed by colon and the actual information, always include the source name for each fact you use in the response. Use square brakets to reference the source, e.g. [info1.txt]. Don\'t combine sources, list each source separately, e.g. [info1.txt][info2.pdf].<br><br><br>Sources:<br>Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly <br>2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.<br>PCSS I PQIS \u2013 OTA information in PCSS (AGDASYXXY-2019-008)-6.pdf:  To re-enable / cancel the functions, please call the workshop tester under "F7 additional menu" first "Function clearances" and then "Update releases". After successful completion, an automatic coding For functions that are in the status "In deactivation", "In activation" or "Activated" and are not functional, please also refer to the relevant Workshop Manual / TI. Note: Functions on Demand that are already registered are shown above the available services in the table. Connectivity information V X Porsche Vehicle Tracking System V ! Standard job VAM3 | IT-Systems Qualification \u2013 PCSS | Porsche Central Service System - PQIS 7       :selected:      :unselected: :unselected: :selected: 8 PORSCHE VAM3 | IT-Systems Qualification \u2013 PCSS | Porsche Central Service System - PQIS Note You will find further information on "Online software update" and "Function on Demand" here: PCSS - Help O O O <br><|im_end|><br><|im_start|>user<br>Wie aktiviere ich die Functions on demand (FoD) f\u00fcr mein Porsche Fahrzeug, welches Over-the-air (OTA) f\u00e4hig ist?<br><|im_end|><br><|im_start|>assistant<br>Laut [2023_04 - OTA - Big Picture-0.pdf] k\u00f6nnen Sie individuelle Fahrzeugfunktionen durch den Kauf von "Functions on Demand" im Porsche Connect Store erwerben. Wenn Ihr Fahrzeug OTA-f\u00e4hig ist, k\u00f6nnen Sie die FoD-Funktionen aktivieren, indem Sie sie im Fahrzeug aktivieren. Bitte beachten Sie, dass das Fahrzeug w\u00e4hrend des Software-Updates nicht gestartet werden kann und die Dauer und der Status des Prozesses im PCM angezeigt werden und nicht abgebrochen werden k\u00f6nnen. Wenn Sie bereits FoD aktiviert oder deaktiviert haben, kann die Best\u00e4tigung direkt im PCM angezeigt werden, wenn das Fahrzeug gestartet wird. Wenn Sie Probleme mit FoD haben, wird empfohlen, das PCM auf die Werkseinstellungen zur\u00fcckzusetzen und die Verf\u00fcgbarkeit der aktivierten/deaktivierten FoD im Fahrzeug zu \u00fcberpr\u00fcfen. Weitere Informationen finden Sie in [EN_Quick_Info_Softwareupdate_Cluster-37_confidential-3.pdf] und [Quick information for Porsche Connect Cluster 37 workshop campaign (AGDSPYXX1-2022-001)-3.pdf].<|im_end|><br><|im_start|>user<br>Bitte erstelle mir eine Tabelle im HTML Format mit den Functions und einer kurzen Beschreibung dazu.<br><|im_end|><br><|im_start|>assistant<br><table><br>  <tr><br>    <th>Function</th><br>    <th>Description</th><br>  </tr><br>  <tr><br>    <td>Comfort access</td><br>    <td>Allows you to lock and unlock the doors of your Porsche without using the car key</td><br>  </tr><br>  <tr><br>    <td>Power Steering Plus</td><br>    <td>Provides additional steering support at low speeds and when parking. Standard for Taycan Turbo S.</td><br>  </tr><br>  <tr><br>    <td>Porsche Intelligent Range Manager</td><br>    <td>Calculates an efficient driving strategy that helps to extend the range of your Porsche.</td><br>  </tr><br></table><br><br>Diese Informationen wurden aus [Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf] und [Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-161.pdf] entnommen.<|im_end|><br><|im_start|>user<br>Erstelle mir bitte eine E-Mail (auf Englisch) an Frau Smith-M\u00fcller mit einer kurzen Einleitung zu Functions on Demand, einer Schritt-f\u00fcr-Schritt-Anleitung wie ich diese aktiviere und der \u00dcbersichtstabelle f\u00fcr die unterschiedlichen FoDs. Danke!<br><br><|im_end|><br><|im_start|>assistant<br>Subject: Activating Functions on Demand for Your Porsche<br><br>Dear Mrs. Smith-M\u00fcller,<br><br>We hope this email finds you well. We are writing to provide you with information on how to activate Functions on Demand (FoD) for your Porsche, as well as a brief overview of what FoD entails.<br><br>Functions on Demand are individual vehicle functions that can be purchased and activated through the Porsche Connect Store. If your Porsche is OTA (over-the-air) capable, you can activate FoD functions directly in your vehicle. Please note that during the software update process, your vehicle cannot be started, and the duration and status of the process will be displayed in the PCM and cannot be canceled.<br><br>To activate FoD, please follow these steps:<br><br>1. Go to the Porsche Connect Store and purchase the desired FoD function(s).<br>2. Wait for the function(s) to be downloaded to your vehicle. You will receive a notification once the download is complete.<br>3. Restart your vehicle to complete the activation process.<br><br>Please refer to the attached table for an overview of the different FoD functions available and their descriptions.<br><br>If you experience any issues with FoD, we recommend resetting the PCM to factory settings and checking the availability of activated/deactivated FoD functions in your vehicle.<br><br>We hope you find this information helpful. Please do not hesitate to contact us if you have any further questions or concerns.<br><br>Best regards,<br><br>[Your Name]<|im_end|><br><|im_start|>user<br>Erstelle mir bitte eine E-Mail (auf Englisch) an Frau Smith-M\u00fcller mit einer kurzen Einleitung zu Functions on Demand, einer Schritt-f\u00fcr-Schritt-Anleitung wie ich diese aktiviere und der \u00dcbersichtstabelle f\u00fcr die unterschiedlichen FoDs. Danke!<br><|im_end|><br><|im_start|>assistant<br><br><br>',
  };

  // const mockedResponse: AskResponse = {
  //   answer:
  //     "<table>\n  <tr>\n    <th>Function on Demand</th>\n    <th>Description</th>\n  </tr>\n  <tr>\n    <td>Comfort access</td>\n    <td>Allows the driver to open and close the vehicle doors without having to use the key or key fob. This function can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Power Steering Plus</td>\n    <td>Provides more assistance to the steering system at low speeds, making it easier to maneuver the vehicle. This function is standard in Taycan Turbo S and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Porsche Intelligent Range Manager (PIRM)</td>\n    <td>Helps the driver to optimize the battery usage and range of the vehicle. PIRM provides adaptive route planning, charging stop recommendations, and an eco-route option. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Porsche InnoDrive</td>\n    <td>A driver assistance system that includes adaptive cruise control, lane departure warning, and traffic sign recognition. Porsche InnoDrive can also predict and adjust the vehicle speed according to the road conditions and topography. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n  <tr>\n    <td>Active Lane Keeping</td>\n    <td>Helps the driver to stay in the center of the lane by applying small steering corrections. Active Lane Keeping can also provide haptic feedback through the steering wheel if the vehicle is about to cross the lane markings. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td>\n  </tr>\n</table>\n\n<<Wie kann ich FoD f\u00fcr mein Porsche-Fahrzeug erwerben? Sind FoD f\u00fcr alle Porsche-Modelle verf\u00fcgbar? Ist es m\u00f6glich, FoD w\u00e4hrend des Fahrzeugkaufs zu erwerben? >>",
  //   data_points: [
  //     "Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly ",
  //     "Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-203.pdf: colSpan=2>Functions on Demand</td><td>O4)</td><td>O</td></tr></table> <table><tr><th>Brakes and wheels</th><th colSpan=2>T</th><th>PORSCHE</th></tr><tr><td>Ceramic brakes</td><td colSpan=2>-</td><td>O</td></tr><tr><td>19-inch wheels</td><td colSpan=2>-</td><td>S</td></tr><tr><td>20-inch wheels</td><td colSpan=2>S</td><td>O</td></tr><tr><td>21-inch wheels</td><td colSpan=2>-</td><td>O</td></tr><tr><td>Performance tyres</td><td colSpan=2>-</td><td>O</td></tr></table> <table><tr><th>Seats</th><th colSpan=2>TESLA</th><th>PORSCHE</th></tr><tr><td>Seat heating (front/rear)</td><td colSpan=2>S/S</td><td>O/O</td></tr><tr><td>Seat ventilation (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr><tr><td>Massage function (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr></table> <table><tr><th colSpan=2>Air conditioning and glazing</th><th>T TABLA M</th><th>PORSCHE</th></tr><tr><td colSpan=2>Four-zone climate control</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Ioniser</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Panoramic glass roof</td><td>S</td><td>O</td></tr></table> <table><tr><th colSpan=2>Assistance systems</th><th></th><th>T</th><th ",
  //     "2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.",
  //   ],
  //   thoughts:
  //     "Searched for:<br>Porsche Functions on Demand HTML table description<br><br>Prompt:<br><|im_start|>system<br>Assistant helps the company employees with questions regarding different Porsche models, interior and exterior, technical solutions, services like Charging and sales questions, etc.  Be brief in your answers.<br>Answer with the facts listed in the list of sources below. If there isn't enough information below, say you have not found relevant information in the data base and start answering the question on other information. Clearly state that the information does not stem from the database. If asking a clarifying question to the user would help, ask the question.<br>For tabular information return it as an html table. Do not return markdown format.<br>Each source has a name followed by colon and the actual information, always include the source name for each fact you use in the response. Use square brakets to reference the source, e.g. [info1.txt]. Don't combine sources, list each source separately, e.g. [info1.txt][info2.pdf].<br><br>ALWAYS generate three very brief follow-up questions that the user would likely ask next about the Porsche car or service. <br>Use double angle brackets to reference the questions, e.g. <<Are there exclusions for prescriptions?>>.<br>Try not to repeat questions that have already been asked.<br>Only generate questions and do not generate any text before or after the questions, such as 'Next Questions'<br><br><br><br>Sources:<br>Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-160.pdf:  In some markets, the PVTS/PVTS Plus system is relevant for vehicle insurance classification and allows some discounts for car insurance. Further information can be found in the Porsche Connect Store. SSTA 5130E 161 Soul, electrified. Highlights The new Taycan in detail Charging Sustainability Competitors PORSCHE STA 5130E Adams S. TA 51.30 E Internal Connect Functions on Demand The introduction of Functions on Demand signals the beginning of a new era for us. For the first time, customers are able to purchase and use individual functions after the purchase of the car. This means customers can further personalise their Porsche to their own requirements even during use. This applies to second-hand owners as well. This gives the driver a completely new degree of flexibility when it comes to selecting vehicle equipment. The following Functions on Demand are available from the launch of the Taycan in the Porsche Connect Store subject to availability: \u2022 Comfort access \u2022 Power Steering Plus (Taycan Turbo S as standard) \u2022 Porsche Intelligent Range Manager Additional functions and other subscription periods, such as monthly <br>Porsche Taycan (MJ 20) - Product Information Taycan (AGDSPT201-2021-001)-203.pdf: colSpan=2>Functions on Demand</td><td>O4)</td><td>O</td></tr></table> <table><tr><th>Brakes and wheels</th><th colSpan=2>T</th><th>PORSCHE</th></tr><tr><td>Ceramic brakes</td><td colSpan=2>-</td><td>O</td></tr><tr><td>19-inch wheels</td><td colSpan=2>-</td><td>S</td></tr><tr><td>20-inch wheels</td><td colSpan=2>S</td><td>O</td></tr><tr><td>21-inch wheels</td><td colSpan=2>-</td><td>O</td></tr><tr><td>Performance tyres</td><td colSpan=2>-</td><td>O</td></tr></table> <table><tr><th>Seats</th><th colSpan=2>TESLA</th><th>PORSCHE</th></tr><tr><td>Seat heating (front/rear)</td><td colSpan=2>S/S</td><td>O/O</td></tr><tr><td>Seat ventilation (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr><tr><td>Massage function (front/rear)</td><td colSpan=2>-/-</td><td>O/-</td></tr></table> <table><tr><th colSpan=2>Air conditioning and glazing</th><th>T TABLA M</th><th>PORSCHE</th></tr><tr><td colSpan=2>Four-zone climate control</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Ioniser</td><td>-</td><td>O</td></tr><tr><td colSpan=2>Panoramic glass roof</td><td>S</td><td>O</td></tr></table> <table><tr><th colSpan=2>Assistance systems</th><th></th><th>T</th><th <br>2023_04 - OTA - Big Picture-0.pdf: PORSCHE -Over-the-air (OTA) OTA Technology and Services -Scope of functions Software Online Software Update Update FoD Map Update Online Map Update \u25aa Electronic Control Units (ECUs) can be updated \u201cOver-the-air\u201d (OTA) for troubleshooting and function improvement. Every OTA campaign is fully transparent for all Porsche dealerships via PCSS. \u25aa OTA campaigns ensure vehicle behaviour improvements, e.g.: optimisation of climate functions. \u25aa The vehicle cannot be started during the software update. The duration and status of the process is displayed in the PCM and cannot be aborted. Functions on Demand (FoD) \u25aa With Functions on Demand (only for vehicles with OTA-FC), individual vehicle functions can be purchased even after vehicle receipt. \u25aa FoD can be booked \u201cUnlimited\u201d or as a monthly subscription via the Porsche Connect Store, then activated by the customer in the vehicle and is available immediately after activation. \u25aa The map data for navigation is always kept up to date via online updates.<br><|im_end|><br><|im_start|>user<br>Welche Functions on demand (FoD) sind verf\u00fcgbar? <br><|im_end|><br><|im_start|>assistant<br>The available Functions on Demand (FoD) depend on the Porsche model and the installed Cluster version. FoD until and including MY21 are available for all Porsche models. FoD for MY18 are only available in the USA and FoD for MY19 are also available [2023_04 - OTA - Big Picture-0.pdf]. Additionally, FoD available with Cluster 33 include PIRM, Porsche InnoDrive, Power Steering Plus, and Active Lane Keeping [2023_04 - OTA - Big Picture-0.pdf].<br><br><<How do I find out which Cluster version my vehicle has installed? Are FoD available for electric Porsche models? Can FoD be purchased through a Porsche dealership?>><|im_end|><br><|im_start|>user<br>Please answer in German<br><|im_end|><br><|im_start|>assistant<br>Wie aktiviere ich die Functions on demand (FoD) f\u00fcr mein Porsche Fahrzeug, welches Over-the-air (OTA) f\u00e4hig ist?<br><br>Um Functions on Demand (FoD) f\u00fcr Ihr Porsche-Fahrzeug, das Over-the-air (OTA) f\u00e4hig ist, zu aktivieren, k\u00f6nnen Sie FoD \u00fcber den Porsche Connect Store kaufen und dann in Ihrem Fahrzeug aktivieren. FoD k\u00f6nnen \"Unlimited\" oder als monatliches Abonnement gebucht werden und stehen nach der Aktivierung sofort zur Verf\u00fcgung [2023_04 - OTA - Big Picture-0.pdf]. Bitte beachten Sie, dass Sie vor der Aktivierung von FoD die Verf\u00fcgbarkeit der aktivierten/abgebrochenen FoD in Ihrem Fahrzeug \u00fcberpr\u00fcfen und das PCM auf Werkseinstellungen zur\u00fccksetzen sollten [EN_Quick_Info_Softwareupdate_Cluster-37_confidential-3.pdf].<br><br>Welche Functions on demand (FoD) sind verf\u00fcgbar?<br><br>Die verf\u00fcgbaren Functions on Demand (FoD) h\u00e4ngen vom Porsche-Modell und der installierten Cluster-Version ab. FoD bis einschlie\u00dflich MY21 sind f\u00fcr alle Porsche-Modelle verf\u00fcgbar. FoD f\u00fcr MY18 sind nur in den USA und FoD f\u00fcr MY19 sind ebenfalls verf\u00fcgbar [2023_04 - OTA - Big Picture-0.pdf]. Dar\u00fcber hinaus sind FoD, die mit Cluster 33 verf\u00fcgbar sind, PIRM, Porsche InnoDrive, Power Steering Plus und Active Lane Keeping [2023_04 - OTA - Big Picture-0.pdf].<br><br>Wie finde ich heraus, welche Cluster-Version in meinem Fahrzeug installiert ist? Sind FoD f\u00fcr elektrische Porsche-Modelle verf\u00fcgbar? K\u00f6nnen FoD \u00fcber einen Porsche-H\u00e4ndler gekauft werden?<|im_end|><br><|im_start|>user<br>Bitte erstelle mir eine Tabelle im HTML Format mit den Functions und einer kurzen Beschreibung dazu.<br><|im_end|><br><|im_start|>assistant<br><table><br>  <tr><br>    <th>Function</th><br>    <th>Description</th><br>  </tr><br>  <tr><br>    <td>Comfort access</td><br>    <td>Allows the driver to open and close the vehicle doors without having to use the key or key fob. This function can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Power Steering Plus</td><br>    <td>Provides more assistance to the steering system at low speeds, making it easier to maneuver the vehicle. This function is standard in Taycan Turbo S and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Porsche Intelligent Range Manager (PIRM)</td><br>    <td>Helps the driver to optimize the battery usage and range of the vehicle. PIRM provides adaptive route planning, charging stop recommendations, and an eco-route option. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Porsche InnoDrive</td><br>    <td>A driver assistance system that includes adaptive cruise control, lane departure warning, and traffic sign recognition. Porsche InnoDrive can also predict and adjust the vehicle speed according to the road conditions and topography. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br>  <tr><br>    <td>Active Lane Keeping</td><br>    <td>Helps the driver to stay in the center of the lane by applying small steering corrections. Active Lane Keeping can also provide haptic feedback through the steering wheel if the vehicle is about to cross the lane markings. This function is available with Cluster 33 and can be purchased and activated even after the purchase of the car.</td><br>  </tr><br></table><br><br><<Welche weiteren FoD sind f\u00fcr das Taycan Modell verf\u00fcgbar? Wie unterscheiden sich FoD von anderen Optionen, die bereits beim Fahrzeugkauf ausgew\u00e4hlt werden k\u00f6nnen? Kann FoD \u00fcber die Porsche Connect App gekauft werden?>><|im_end|><br><|im_start|>user<br>Bitte erstelle mir eine Tabelle im HTML Format mit den Functions on Demand und einer kurzen Beschreibung dazu.<br><|im_end|><br><|im_start|>assistant<br><br><br>",
  // };

  return new Promise((resolve, reject) => {
    // Mimic network delay
    setTimeout(() => {
      // Randomly simulate an error
      const shouldThrowError = Math.random() > 0.8;
      if (shouldThrowError) {
        reject(new Error("Mocked network error"));
        return;
      }

      resolve(mockedResponse);
    }, 1000);
  });
}

export function getCitationFilePath(citation: string): string {
  return `/content/${citation}`;
}
